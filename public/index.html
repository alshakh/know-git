<!doctype html>
<html>

<head>
    <link rel="stylesheet" href="inconsolata-font/index.css">
    <link rel="stylesheet" href="revealjs/css/reveal.css">
    <link rel="stylesheet" href="revealjs/css/theme/white.css">
    <link rel="stylesheet" href="revealjs/lib/css/zenburn.css">

    <link rel="stylesheet" href="xterm/xterm.css">

    <link rel="stylesheet" href="malafat-client/malafat.css">
    <link rel="stylesheet" href="font-awesome/css/all.css">

    <link rel="stylesheet" href="gitgraph/gitgraph.css">

    <style>
        div.terminal-aa,
        div.malafat-aa {
            height: 90vh;
            font-size: 34px;
        }

        #gitlogo,
        #stagingarea {
            border: none;
            box-shadow: none;
        }

        i.green {
            color: #51cf66;
        }

        i.blue {
            color: #339af0;
        }

        i.red {
            color: #ff6b6b;
        }

        i.orange {
            color: #ff922b;
        }

        i.darkgreen {
            color: #20c997;
        }

        i.purple {
            color: #845ef7;
        }

        i.pink {
            color: #f06595;
        }
    </style>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section data-menu-title="Start">
                <img id="gitlogo" src="assets/git-logo.png">
            </section>
            <section data-menu-title="My Final Document">
                <img style="height:50vh" src="assets/final.png">
            </section>
            <section data-menu-title="Git ?">
                <h2>Git ?</h2>
                <h3 class="fragment"><i class="fas fa-book green"></i> Keeping History</h3>
                <h3 class="fragment"><i class="fas fa-user-friends blue"></i> Collaboration</h3>
            </section>


            <section>
                <section data-menu-title="History Chapter">
                    <h1><i class="fas fa-book green"></i> History</h1>
                    <div><canvas data-gitflow>
                    master.commit().commit().commit()
                    let develop = master.branch("develop")
                    develop.commit().commit()
                    master.commit().commit()
                    let bugfix = master.branch("bugfix")
                    bugfix.commit().commit()
                    master.commit()
                    develop.commit()
                    develop.merge(master)
                    bugfix.merge(master)
                    </canvas></div>
                </section>
                <section data-menu-title="First Contact!">
                    <h2>Let's get into it</h2>
                </section>
                <section data-menu-title="Staging Area">
                    <img id="stagingarea" style="height:80vh" src="assets/staging-area.png">
                </section>
                <section data-menu-title="Demo 1 : 1">
                    <canvas data-gitflow>
                    master.commit().commit()
                    let dynamic = master.branch("dynamicgreeting")
                    dynamic.commit().commit()
                    master.commit()
                    </canvas>
                </section>
                <section data-menu-title="Demo 1 : 2">
                    <canvas data-gitflow>
                    master.commit().commit()
                    let dynamic = master.branch("dynamicgreeting")
                    dynamic.commit().commit()
                    master.commit()
                    dynamic.merge(master)
                    </canvas>
                </section>

                <section data-menu-title="Repository">
                    <h2><i class="fas fa-project-diagram red"></i> Repository</h2>
                    <ul>
                        <li class="fragment">Self contained</li>
                        <li class="fragment">Contents are related </li>
                        <li class="fragment">Shared History </li>
                    </ul>
                </section>
                <section data-menu-title="Commits (1)">
                    <h2><i class="fas fa-stamp purple"></i> Commits <small><small>First point of view</small></small></h2>
                    <ul>
                        <li class="fragment">Locked State of the Repository</li>
                        <li class="fragment">Referenced by Unique SHA1 Hash</li>
                        <li class="fragment">Parent Commit Reference (hashes)</li>
                    </ul>
                </section>

                <section data-menu-title="Tags">
                    <h2><i class="fas fa-tags pink"></i> Tags</h2>
                    <ul>
                        <li class="fragment">Named refence to a specific commit</li>
                        <li class="fragment">Can be used instead of commit hash as a reference</li>
                    </ul>
                </section>

                <section data-menu-title="Commits (2)">
                    <h2><i class="fas fa-file-alt purple"></i> <i class="fas fa-file-alt red"></i></span> Commits <small><small>Second point of view</small></small></h2>
                    <ul>
                        <li class="fragment">Just a set of defined changes to repository</li>
                        <li class="fragment">Almost like an operation</li>
                        <li class="fragment">Can be applied at any order</li>
                    </ul>
                </section>

                <section data-menu-title="Branches (1)">
                    <h2><i class="fas fa-code-branch blue"></i> Branches <small><small>First point of view</small></small></h2>
                    <ul>
                        <li class="fragment">Timeline for the repository</li>
                        <li class="fragment">Can be forked at any commit</li>
                        <li class="fragment">You checkout branches to develop</li>
                    </ul>
                </section>

                <section data-menu-title="Branches (2)">
                    <h2><i class="fas fa-link blue"></i> <i class="fas fa-file-alt red"></i></span> Branches <small><small>Second point of view</small></small></h2>
                    <ul>
                        <li class="fragment">Just a reference to a commit (like a tag)</li>
                        <li class="fragment">It advances everytime a new commit is made</li>
                    </ul>
                </section>

                <section data-menu-title="Merge">
                    <h2><i class="fas fa-compress-arrows-alt orange"></i> <i class="fas fa-file-alt red"></i></span> Merging</h2>
                    <ul>
                        <li class="fragment">Add commits (changes) from a branch to other branch</li>
                    </ul>
                </section>
                <!-- TODO : Fast forward & merge commit -->


            </section>

            <!--<section>
                <canvas data-gitflow id="first-git-show">
                    master.commit().commit().commit()
                    let develop = master.branch("develop")
                    develop.commit().commit()
                    master.commit().commit()
                </canvas>
            </section>
            <section>
                <div class="malafat-aa" data-malafat data-dir="/home/shak/qq" data-watch dir-create></div>
            </section>
            <section>Slide 1</section>
            <section>
                <section>
                    <div class="terminal-aa" data-terminal data-id="asdfj3slkdfjei8" data-cwd="/home/shak/qq"></div>
                </section>
                <section>
                    <pre><code class="javascript" data-trim data-noescape>
$(document).ready(function() {
  $('pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});

                    </code></pre>
                </section>
                <section>Vertical Slide 2 \[\begin{aligned} \dot{x} &amp; = \sigma(y-x) \\ \dot{y} &amp; = \rho x - y - xz \\ \dot{z} &amp; = -\beta z + xy \end{aligned} \]
                </section>
                <section>
                    <canvas data-gitflow>

                        master.commit().commit()
                        let dev1 = master.branch("dev1")
                        dev1.commit({
                            commitDotText : "asl;dfj asl;dfj asl;fjasldfj "
                        
                        })

                        dev1.merge(master)
                    
                    
                    </canvas>

                </section>
            </section>-->
            <section>
                <section id="demo1">
                    <h2> Demo 1 </h2>
                </section>
                <section>
                    <div class="malafat-aa" data-malafat data-dir="demos/demo1" data-watch dir-create></div>
                </section>
                <section>
                    <div class="terminal-aa" data-unrestricted-shell data-terminal data-name="demo1" data-id="demo1" data-cwd="demos/demo1"></div>
                </section>
            </section>
        </div>
    </div>

    <script src="revealjs/lib/js/head.min.js"></script>
    <script src="revealjs/js/reveal.js"></script>
    <script>
        Reveal.initialize({
            history: true,
            width: '100%',
            height: '100%',
            math: {
                mathjax: './mathjax/MathJax.js'
            },


            menu: {
                side: 'left',
                // 'normal', 'wide', 'third', 'half', 'full', or
                width: 'normal',
                numbers: false,
                titleSelector: 'h1, h2, h3, h4, h5, h6',
                useTextContentForMissingTitles: false,
                hideMissingTitles: false,
                markers: true,
                custom: [{
                    title: 'Demos',
                    icon: '<i class="fas fa-desktop">',
                    content: `
                        <ul class="slide-menu-items">
	                        <li class="slide-menu-item"><i class="fas fa-code-branch"></i><a href="#/demo1">Demo1</a></li>
	                        <li class="slide-menu-item"><i class="fas fa-angle-right"></i><a href="#/demo1">Demo1</a></li>
                    <!--<li class="slide-menu-item"><a href="#demo2">Demo2</a><li>-->
                        </ul>
                    `
                }],
                openButton: true,
                openSlideNumber: false,
                keyboard: true,
                sticky: false,
                autoOpen: true,
                delayInit: false,
                openOnInit: false,
                loadIcons: true
            },
            dependencies: [
                // Syntax highlight for <code> elements
                {
                    src: 'revealjs/plugin/highlight/highlight.js',
                    async: true,
                    callback: function() {
                        hljs.initHighlightingOnLoad();
                    }
                },

                // MathJax
                /*{
                    src: 'revealjs/plugin/math/math.js',
                    async: true
                }*/

                {
                    src: 'revealjs-menu/menu.js'
                }
            ]
        });
    </script>



    <script src="xterm/xterm.js"></script>
    <script src="xterm/addons/fit/fit.js"></script>
    <script src="xterm/addons/attach/attach.js"></script>
    <script src="webbyterm-client/webbyterm-client.js"></script>
    <script>
        Reveal.addEventListener('ready', function(event) {
            initializeTerminals({
                fontSize: 30,
                fontFamily: "Inconsolata",
                home: "/home/shak/presentation-demos/shell-home"
            })
        });
    </script>


    <script src="malafat-client/malafat.js"></script>
    <script>
        Reveal.addEventListener('ready', function(event) {
            const socketUrl = `${(location.protocol === 'https:') ? 'wss://' : 'ws://'}${location.hostname}${location.port ? `:${location.port}` : ''}/malafat`;
            document.querySelectorAll('[data-malafat]').forEach((el) => {
                Malafat.fromElement(el, socketUrl)
            })
        });
    </script>

    <script src="gitgraph/gitgraph.js"></script>
    <script>
        Reveal.addEventListener('ready', function(event) {
            document.querySelectorAll('[data-gitflow]').forEach((el) => {
                let gitcode = el.innerHTML
                el.innerHTML = ""
                let gitgraph = new GitGraph({
                    canvas: el,
                    template: "metro",
                    orientation: "horizontal"
                });
                let master = gitgraph.branch("master")
                eval(gitcode)
            })
        })
    </script>
</body>

</html>
